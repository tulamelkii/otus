localadm@DEB:~/otus$ vagrant up
Bringing machine 'Router1' up with 'virtualbox' provider...
Bringing machine 'Router2' up with 'virtualbox' provider...
Bringing machine 'Router3' up with 'virtualbox' provider...
==> Router1: You assigned a static IP ending in ".1" to this machine.
==> Router1: This is very often used by the router and can cause the
==> Router1: network to not work properly. If the network doesn't work
==> Router1: properly, try changing this IP.
==> Router1: You assigned a static IP ending in ".1" to this machine.
==> Router1: This is very often used by the router and can cause the
==> Router1: network to not work properly. If the network doesn't work
==> Router1: properly, try changing this IP.
==> Router1: You assigned a static IP ending in ".1" to this machine.
==> Router1: This is very often used by the router and can cause the
==> Router1: network to not work properly. If the network doesn't work
==> Router1: properly, try changing this IP.
==> Router1: Importing base box 'debian/bullseye64'...
==> Router1: Matching MAC address for NAT networking...
==> Router1: You assigned a static IP ending in ".1" to this machine.
==> Router1: This is very often used by the router and can cause the
==> Router1: network to not work properly. If the network doesn't work
==> Router1: properly, try changing this IP.
==> Router1: You assigned a static IP ending in ".1" to this machine.
==> Router1: This is very often used by the router and can cause the
==> Router1: network to not work properly. If the network doesn't work
==> Router1: properly, try changing this IP.
==> Router1: You assigned a static IP ending in ".1" to this machine.
==> Router1: This is very often used by the router and can cause the
==> Router1: network to not work properly. If the network doesn't work
==> Router1: properly, try changing this IP.
==> Router1: Checking if box 'debian/bullseye64' version '11.20230615.1' is up to date...
==> Router1: There was a problem while downloading the metadata for your box
==> Router1: to check for updates. This is not an error, since it is usually due
==> Router1: to temporary network problems. This is just a warning. The problem
==> Router1: encountered was:
==> Router1: 
==> Router1: The requested URL returned error: 404
==> Router1: 
==> Router1: If you want to check for box updates, verify your network connection
==> Router1: is valid and try again.
==> Router1: Setting the name of the VM: otus_Router1_1697232010761_43562
==> Router1: Clearing any previously set network interfaces...
==> Router1: Preparing network interfaces based on configuration...
    Router1: Adapter 1: nat
    Router1: Adapter 2: intnet
    Router1: Adapter 3: intnet
    Router1: Adapter 4: intnet
    Router1: Adapter 5: hostonly
==> Router1: Forwarding ports...
    Router1: 22 (guest) => 2222 (host) (adapter 1)
==> Router1: Running 'pre-boot' VM customizations...
==> Router1: Booting VM...
==> Router1: Waiting for machine to boot. This may take a few minutes...
    Router1: SSH address: 127.0.0.1:2222
    Router1: SSH username: vagrant
    Router1: SSH auth method: private key
    Router1: 
    Router1: Vagrant insecure key detected. Vagrant will automatically replace
    Router1: this with a newly generated keypair for better security.
    Router1: 
    Router1: Inserting generated public key within guest...
    Router1: Removing insecure key from the guest if it's present...
    Router1: Key inserted! Disconnecting and reconnecting using new SSH key...
==> Router1: Machine booted and ready!
==> Router1: Checking for guest additions in VM...
    Router1: The guest additions on this VM do not match the installed version of
    Router1: VirtualBox! In most cases this is fine, but in rare cases it can
    Router1: prevent things such as shared folders from working properly. If you see
    Router1: shared folder errors, please make sure the guest additions within the
    Router1: virtual machine match the version of VirtualBox you have installed on
    Router1: your host and reload your VM.
    Router1: 
    Router1: Guest Additions Version: 6.0.0 r127566
    Router1: VirtualBox Version: 6.1
==> Router1: Setting hostname...
==> Router1: Configuring and enabling network interfaces...
==> Router1: Mounting shared folders...
    Router1: /vagrant => /home/localadm/otus
==> Router2: You assigned a static IP ending in ".1" to this machine.
==> Router2: This is very often used by the router and can cause the
==> Router2: network to not work properly. If the network doesn't work
==> Router2: properly, try changing this IP.
==> Router2: Importing base box 'debian/bullseye64'...
==> Router2: Matching MAC address for NAT networking...
==> Router2: You assigned a static IP ending in ".1" to this machine.
==> Router2: This is very often used by the router and can cause the
==> Router2: network to not work properly. If the network doesn't work
==> Router2: properly, try changing this IP.
==> Router2: Checking if box 'debian/bullseye64' version '11.20230615.1' is up to date...
==> Router2: Setting the name of the VM: otus_Router2_1697232061880_1699
==> Router2: Fixed port collision for 22 => 2222. Now on port 2200.
==> Router2: Clearing any previously set network interfaces...
==> Router2: Preparing network interfaces based on configuration...
    Router2: Adapter 1: nat
    Router2: Adapter 2: intnet
    Router2: Adapter 3: intnet
    Router2: Adapter 4: intnet
    Router2: Adapter 5: hostonly
==> Router2: Forwarding ports...
    Router2: 22 (guest) => 2200 (host) (adapter 1)
==> Router2: Running 'pre-boot' VM customizations...
==> Router2: Booting VM...
==> Router2: Waiting for machine to boot. This may take a few minutes...
    Router2: SSH address: 127.0.0.1:2200
    Router2: SSH username: vagrant
    Router2: SSH auth method: private key
    Router2: 
    Router2: Vagrant insecure key detected. Vagrant will automatically replace
    Router2: this with a newly generated keypair for better security.
    Router2: 
    Router2: Inserting generated public key within guest...
    Router2: Removing insecure key from the guest if it's present...
    Router2: Key inserted! Disconnecting and reconnecting using new SSH key...
==> Router2: Machine booted and ready!
==> Router2: Checking for guest additions in VM...
    Router2: The guest additions on this VM do not match the installed version of
    Router2: VirtualBox! In most cases this is fine, but in rare cases it can
    Router2: prevent things such as shared folders from working properly. If you see
    Router2: shared folder errors, please make sure the guest additions within the
    Router2: virtual machine match the version of VirtualBox you have installed on
    Router2: your host and reload your VM.
    Router2: 
    Router2: Guest Additions Version: 6.0.0 r127566
    Router2: VirtualBox Version: 6.1
==> Router2: Setting hostname...
==> Router2: Configuring and enabling network interfaces...
==> Router2: Mounting shared folders...
    Router2: /vagrant => /home/localadm/otus
==> Router3: You assigned a static IP ending in ".1" to this machine.
==> Router3: This is very often used by the router and can cause the
==> Router3: network to not work properly. If the network doesn't work
==> Router3: properly, try changing this IP.
==> Router3: You assigned a static IP ending in ".1" to this machine.
==> Router3: This is very often used by the router and can cause the
==> Router3: network to not work properly. If the network doesn't work
==> Router3: properly, try changing this IP.
==> Router3: Importing base box 'debian/bullseye64'...
==> Router3: Matching MAC address for NAT networking...
==> Router3: You assigned a static IP ending in ".1" to this machine.
==> Router3: This is very often used by the router and can cause the
==> Router3: network to not work properly. If the network doesn't work
==> Router3: properly, try changing this IP.
==> Router3: You assigned a static IP ending in ".1" to this machine.
==> Router3: This is very often used by the router and can cause the
==> Router3: network to not work properly. If the network doesn't work
==> Router3: properly, try changing this IP.
==> Router3: Checking if box 'debian/bullseye64' version '11.20230615.1' is up to date...
==> Router3: Setting the name of the VM: otus_Router3_1697232104714_41708
==> Router3: Fixed port collision for 22 => 2222. Now on port 2201.
==> Router3: Clearing any previously set network interfaces...
==> Router3: Preparing network interfaces based on configuration...
    Router3: Adapter 1: nat
    Router3: Adapter 2: intnet
    Router3: Adapter 3: intnet
    Router3: Adapter 4: intnet
    Router3: Adapter 5: hostonly
==> Router3: Forwarding ports...
    Router3: 22 (guest) => 2201 (host) (adapter 1)
==> Router3: Running 'pre-boot' VM customizations...
==> Router3: Booting VM...
==> Router3: Waiting for machine to boot. This may take a few minutes...
    Router3: SSH address: 127.0.0.1:2201
    Router3: SSH username: vagrant
    Router3: SSH auth method: private key
    Router3: 
    Router3: Vagrant insecure key detected. Vagrant will automatically replace
    Router3: this with a newly generated keypair for better security.
    Router3: 
    Router3: Inserting generated public key within guest...
    Router3: Removing insecure key from the guest if it's present...
    Router3: Key inserted! Disconnecting and reconnecting using new SSH key...
==> Router3: Machine booted and ready!
==> Router3: Checking for guest additions in VM...
    Router3: The guest additions on this VM do not match the installed version of
    Router3: VirtualBox! In most cases this is fine, but in rare cases it can
    Router3: prevent things such as shared folders from working properly. If you see
    Router3: shared folder errors, please make sure the guest additions within the
    Router3: virtual machine match the version of VirtualBox you have installed on
    Router3: your host and reload your VM.
    Router3: 
    Router3: Guest Additions Version: 6.0.0 r127566
    Router3: VirtualBox Version: 6.1
==> Router3: Setting hostname...
==> Router3: Configuring and enabling network interfaces...
==> Router3: Mounting shared folders...
    Router3: /vagrant => /home/localadm/otus
==> Router3: Running provisioner: ansible...
    Router3: Running ansible-playbook...
[WARNING]: Found both group and host with same name: Router1
[WARNING]: Found both group and host with same name: Router3
[WARNING]: Found both group and host with same name: Router2

PLAY [install all hosts] *******************************************************

TASK [Gathering Facts] *********************************************************
ok: [Router1]
ok: [Router2]
ok: [Router3]

TASK [install update and program] **********************************************
changed: [Router1]
changed: [Router2]
changed: [Router3]

TASK [enable forwarding] *******************************************************
changed: [Router2]
changed: [Router1]
changed: [Router3]

TASK [change config frr] *******************************************************
changed: [Router3]
changed: [Router2]
changed: [Router1]

TASK [set up asynchronous routing] *********************************************
changed: [Router2]
changed: [Router1]
changed: [Router3]

TASK [tamplates frr] ***********************************************************
changed: [Router3]
changed: [Router1]
changed: [Router2]

TASK [restart] *****************************************************************
changed: [Router2]
changed: [Router3]
changed: [Router1]

TASK [shell] *******************************************************************
changed: [Router1]
changed: [Router3]
changed: [Router2]

TASK [wait for system hosts] ***************************************************
ok: [Router2]
ok: [Router3]
ok: [Router1]

PLAY RECAP *********************************************************************
Router1                    : ok=9    changed=7    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
Router2                    : ok=9    changed=7    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
Router3                    : ok=9    changed=7    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   


==> Router1: Machine 'Router1' has a post `vagrant up` message. This is a message
==> Router1: from the creator of the Vagrantfile, and not from Vagrant itself:
==> Router1: 
==> Router1: Vanilla Debian box. See https://app.vagrantup.com/debian for help and bug reports

==> Router2: Machine 'Router2' has a post `vagrant up` message. This is a message
==> Router2: from the creator of the Vagrantfile, and not from Vagrant itself:
==> Router2: 
==> Router2: Vanilla Debian box. See https://app.vagrantup.com/debian for help and bug reports

==> Router3: Machine 'Router3' has a post `vagrant up` message. This is a message
==> Router3: from the creator of the Vagrantfile, and not from Vagrant itself:
==> Router3: 
==> Router3: Vanilla Debian box. See https://app.vagrantup.com/debian for help and bug reports

